{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lineo\\\\Videos\\\\SchoolSystem (2)\\\\SchoolSystem\\\\luct-reporting-system\\\\src\\\\lecturer\\\\LecturerClasses.js\",\n  _s = $RefreshSig$();\n// LecturerClasses.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../AuthContext';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LecturerClasses() {\n  _s();\n  const {\n    user,\n    logout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [classes, setClasses] = useState([]);\n  const [error, setError] = useState('');\n  const token = localStorage.getItem('token');\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n  useEffect(() => {\n    if (!user || user.role !== 'Lecturer') {\n      navigate('/unauthorized');\n      return;\n    }\n    if (!token) {\n      logout();\n      navigate('/login');\n      return;\n    }\n    const fetchClasses = async () => {\n      try {\n        const res = await fetch(`${apiUrl}/lecturer/classes`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (res.status === 401 || res.status === 403) {\n          logout();\n          navigate('/login');\n          return;\n        }\n        if (!res.ok) {\n          const data = await res.json().catch(() => ({}));\n          throw new Error(data.error || 'Failed to fetch classes');\n        }\n        const data = await res.json();\n        setClasses(Array.isArray(data) ? data : []);\n      } catch (err) {\n        console.error('Fetch classes error:', err);\n        setError(err.message || 'Failed to load classes.');\n      }\n    };\n    fetchClasses();\n  }, [user, navigate, logout, token]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 28\n      }, this), \" My Assigned Classes\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), classes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No classes assigned yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"list-group\",\n      children: classes.map(cls => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: cls.class_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Courses: \", cls.course_names.join(', ') || 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)]\n      }, cls.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(LecturerClasses, \"5nl8+iTme5hV3z24dpfw4REGwe0=\", false, function () {\n  return [useNavigate];\n});\n_c = LecturerClasses;\nexport default LecturerClasses;\nvar _c;\n$RefreshReg$(_c, \"LecturerClasses\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","AuthContext","jsxDEV","_jsxDEV","LecturerClasses","_s","user","logout","navigate","classes","setClasses","error","setError","token","localStorage","getItem","apiUrl","process","env","REACT_APP_API_URL","role","fetchClasses","res","fetch","headers","Authorization","status","ok","data","json","catch","Error","Array","isArray","err","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","cls","class_name","course_names","join","id","_c","$RefreshReg$"],"sources":["C:/Users/lineo/Videos/SchoolSystem (2)/SchoolSystem/luct-reporting-system/src/lecturer/LecturerClasses.js"],"sourcesContent":["// LecturerClasses.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../AuthContext';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\n\r\nfunction LecturerClasses() {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const [classes, setClasses] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const token = localStorage.getItem('token');\r\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\r\n\r\n  useEffect(() => {\r\n    if (!user || user.role !== 'Lecturer') {\r\n      navigate('/unauthorized');\r\n      return;\r\n    }\r\n    if (!token) {\r\n      logout();\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    const fetchClasses = async () => {\r\n      try {\r\n        const res = await fetch(`${apiUrl}/lecturer/classes`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (res.status === 401 || res.status === 403) {\r\n          logout();\r\n          navigate('/login');\r\n          return;\r\n        }\r\n        if (!res.ok) {\r\n          const data = await res.json().catch(() => ({}));\r\n          throw new Error(data.error || 'Failed to fetch classes');\r\n        }\r\n        const data = await res.json();\r\n        setClasses(Array.isArray(data) ? data : []);\r\n      } catch (err) {\r\n        console.error('Fetch classes error:', err);\r\n        setError(err.message || 'Failed to load classes.');\r\n      }\r\n    };\r\n\r\n    fetchClasses();\r\n  }, [user, navigate, logout, token]);\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2 className=\"mb-4\"><i className=\"bi bi-book\"></i> My Assigned Classes</h2>\r\n      {error && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      {classes.length === 0 ? (\r\n        <p>No classes assigned yet.</p>\r\n      ) : (\r\n        <ul className=\"list-group\">\r\n          {classes.map((cls) => (\r\n            <li key={cls.id} className=\"list-group-item\">\r\n              <strong>{cls.class_name}</strong>\r\n              <p>Courses: {cls.course_names.join(', ') || 'None'}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LecturerClasses;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}